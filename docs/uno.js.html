<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>uno.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="UNO.html">UNO</a><ul class='methods'><li data-type='method'><a href="UNO.html#.draw_card">draw_card</a></li><li data-type='method'><a href="UNO.html#.next_turn">next_turn</a></li><li data-type='method'><a href="UNO.html#.renderAllHands">renderAllHands</a></li><li data-type='method'><a href="UNO.html#.render_current_card">render_current_card</a></li><li data-type='method'><a href="UNO.html#.render_hand">render_hand</a></li><li data-type='method'><a href="UNO.html#.start_game">start_game</a></li><li data-type='method'><a href="UNO.html#.start_turn">start_turn</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#styleCardDiv">styleCardDiv</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">uno.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as UNOLogic from "./uno-logic.js";

/**
 * @namespace UNO
 */
const UNO = Object.create(null);

let currentCard = UNOLogic.getRandomCard();
let numPlayers = 2;
let hands = [];
let turn = 0;

// HTML Elements
const startGame_button = document.getElementById("startGame");
const numPlayersInput = document.getElementById("numPlayersInput");
const currentTurnDiv = document.getElementById("currentTurn");
const currentCardDiv = document.getElementById("currentCard");
const handsContainer = document.getElementById("handsContainer");

/**
 * Start the UNO game.
 */
UNO.start_game = () => {
  numPlayers = parseInt(numPlayersInput.value) || 2;
  hands = UNOLogic.createHands(numPlayers);
  currentCard = UNOLogic.getRandomCard();
  turn = 0;
  UNO.render_current_card();
  UNO.renderAllHands();
  UNO.start_turn();
};

/**
 * Start current player's turn.
 */
UNO.start_turn = () => {
  currentTurnDiv.textContent = `Player ${turn + 1}'s turn`;
};

/**
 * Move to next player's turn.
 */
UNO.next_turn = () => {
  turn = UNOLogic.nextTurn(turn, numPlayers);
  UNO.start_turn();
};

/**
 * Draw a card for a player.
 * @param {number} playerIndex
 */
UNO.draw_card = (playerIndex) => {
  hands[playerIndex].push(UNOLogic.getRandomCard());
  UNO.render_hand(playerIndex);
};

/**
 * Render all player hands and draw buttons.
 */
UNO.renderAllHands = () => {
  handsContainer.innerHTML = "";

  hands.forEach((_, index) => {
    const handSection = document.createElement("div");
    handSection.classList.add("hand-section");

    const title = document.createElement("h2");
    title.textContent = `Player ${index + 1}'s cards:`;

    const button = document.createElement("button");
    button.className = "buttoncss";
    button.textContent = "Draw";
    button.onclick = () => {
      if (turn === index) UNO.draw_card(index);
    };

    const headerDiv = document.createElement("div");
    headerDiv.className = "hand-header";
    headerDiv.appendChild(title);
    headerDiv.appendChild(button);

    const handDiv = document.createElement("div");
    handDiv.id = `hand-${index}`;

    const hr = document.createElement("hr");

    handSection.appendChild(headerDiv);
    handSection.appendChild(handDiv);
    handSection.appendChild(hr);
    handsContainer.appendChild(handSection);

    UNO.render_hand(index);
  });
};

/**
 * Render one player's hand.
 * @param {number} index
 */
UNO.render_hand = (index) => {
  const handDiv = document.getElementById(`hand-${index}`);
  handDiv.innerHTML = "";

  hands[index].forEach((card, cardIndex) => {
    const div = document.createElement("div");
    div.className = "card";
    styleCardDiv(div, card);

    div.onclick = () => {
      if (turn === index &amp;&amp; UNOLogic.isValidPlay(card, currentCard)) {
        hands[index].splice(cardIndex, 1);
        currentCard = card;
        UNO.render_current_card();
        UNO.render_hand(index);
        UNO.next_turn();
      }
    };

    handDiv.appendChild(div);
  });
};

/**
 * Render the current top card.
 */
UNO.render_current_card = () => {
  styleCardDiv(currentCardDiv, currentCard);
};

/**
 * Apply style to a card div.
 * @param {HTMLElement} div
 * @param {Object} card
 */
function styleCardDiv(div, card) {
  div.style.backgroundColor = card.color.toLowerCase();
  div.textContent = card.number;
}

// Start game on button click
startGame_button.onclick = UNO.start_game;

export default Object.freeze(UNO);
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Wed Jun 25 2025 14:00:49 GMT+0100 (British Summer Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



    <link type="text/css" rel="stylesheet" href="custom.css">
    
</body>
</html>
